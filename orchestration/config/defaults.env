# VMStation Orchestration Default Configuration
# Part of VMStation Cluster Setup
#
# This file contains default configuration values for the orchestration scripts.
# Override these values by setting environment variables before running scripts,
# or by creating a local config file at ~/.vmstation/config.env

# Repository locations (modular architecture)
CLUSTER_INFRA_REPO="${CLUSTER_INFRA_REPO:-https://github.com/jjbly-vmstation/cluster-infra.git}"
CLUSTER_CONFIG_REPO="${CLUSTER_CONFIG_REPO:-https://github.com/jjbly-vmstation/cluster-config.git}"
CLUSTER_MONITOR_REPO="${CLUSTER_MONITOR_REPO:-https://github.com/jjbly-vmstation/cluster-monitor-stack.git}"
CLUSTER_APP_REPO="${CLUSTER_APP_REPO:-https://github.com/jjbly-vmstation/cluster-application-stack.git}"
CLUSTER_TOOLS_REPO="${CLUSTER_TOOLS_REPO:-https://github.com/jjbly-vmstation/cluster-tools.git}"
CLUSTER_SETUP_REPO="${CLUSTER_SETUP_REPO:-https://github.com/jjbly-vmstation/cluster-setup.git}"

# Repository branches (default to main)
CLUSTER_INFRA_BRANCH="${CLUSTER_INFRA_BRANCH:-main}"
CLUSTER_CONFIG_BRANCH="${CLUSTER_CONFIG_BRANCH:-main}"
CLUSTER_MONITOR_BRANCH="${CLUSTER_MONITOR_BRANCH:-main}"
CLUSTER_APP_BRANCH="${CLUSTER_APP_BRANCH:-main}"
CLUSTER_TOOLS_BRANCH="${CLUSTER_TOOLS_BRANCH:-main}"

# Workspace directories
WORKSPACE_DIR="${WORKSPACE_DIR:-${HOME}/.vmstation/repos}"
LOG_DIR="${LOG_DIR:-${HOME}/.vmstation/logs}"
STATE_DIR="${STATE_DIR:-${HOME}/.vmstation/state}"
BACKUP_DIR="${BACKUP_DIR:-${HOME}/.vmstation/backups}"
ARTIFACTS_DIR="${ARTIFACTS_DIR:-${HOME}/.vmstation/artifacts}"

# Ansible configuration
ANSIBLE_INVENTORY="${ANSIBLE_INVENTORY:-}"  # Auto-detected from cluster-infra or local
ANSIBLE_CONFIG_PATH="${ANSIBLE_CONFIG_PATH:-}"  # Auto-detected

# Deployment settings
DEFAULT_TIMEOUT="${DEFAULT_TIMEOUT:-600}"  # 10 minutes
RETRY_COUNT="${RETRY_COUNT:-3}"
RETRY_DELAY="${RETRY_DELAY:-10}"

# Safety settings
VMSTATION_SAFE_MODE="${VMSTATION_SAFE_MODE:-0}"  # Set to 1 to block destructive operations
AUTO_YES="${AUTO_YES:-false}"  # Set to true to skip confirmations
DRY_RUN="${DRY_RUN:-false}"  # Set to true for dry-run mode

# Offline mode
OFFLINE_MODE="${OFFLINE_MODE:-false}"  # Set to true to use only local repos

# Logging settings
LOG_LEVEL="${LOG_LEVEL:-1}"  # 0=DEBUG, 1=INFO, 2=WARN, 3=ERROR
LOG_USE_COLORS="${LOG_USE_COLORS:-}"  # Auto-detected based on terminal

# Kubernetes settings
KUBECONFIG="${KUBECONFIG:-${HOME}/.kube/config}"
KUBECTL_TIMEOUT="${KUBECTL_TIMEOUT:-60}"

# Auto-sleep settings
ENABLE_AUTOSLEEP="${ENABLE_AUTOSLEEP:-false}"
AUTOSLEEP_TIMEOUT_MINUTES="${AUTOSLEEP_TIMEOUT_MINUTES:-120}"

# Deprecated paths (for backward compatibility with monorepo)
# These will trigger warnings when used
LEGACY_MONOREPO_PATH="${LEGACY_MONOREPO_PATH:-}"
LEGACY_SCRIPTS_PATH="${LEGACY_SCRIPTS_PATH:-}"

# Feature flags
FEATURE_MULTI_REPO="${FEATURE_MULTI_REPO:-true}"  # Enable multi-repo orchestration
FEATURE_OFFLINE_CACHE="${FEATURE_OFFLINE_CACHE:-true}"  # Cache repos for offline use
FEATURE_AUTO_BACKUP="${FEATURE_AUTO_BACKUP:-true}"  # Auto-backup before destructive ops
